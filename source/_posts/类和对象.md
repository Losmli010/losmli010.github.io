---
title: 类和对象
date: 2018-08-18 09:18:01
tags: [类,对象,类属性,对象属性,方法]
categories: python
---

#### 面向对象思想

在人类认知中，会把属性相近的东西归为一类，并且给类命名。比如，鸟类的共同属性是有翅膀。任何一只鸟都在鸟类的原型基础上产生的。有时也会根据这个东西能做什么事情来划分类别。比如，鸟会飞，这样就和鱼的类别区分开了。

面向对象就是模拟了以上人类认知过程。在Python语言，“东西”称为对象（object），通过类创建，''东西''能做的事情称为方法（method），通过在类的内部定义函数来实现。



#### 类

```python
#定义鸟类
class Bird(object):
    #鸟类的属性
    have_wings = True

    #鸟类的方法
    def fly(self):
        print('我是一只小小小小鸟，想要飞呀飞却飞也飞不高')
     
"""
通过鸟类可以创建鸟类的一个对象，比如一只名叫shmily的小鸟
此时，shmily就有了鸟类的属性和方法，对象.属性（object.attribute）的方式引用类属性，
对象.函数名()的方式调用类方法
"""
shimly = Bird()
print(shimly.have_wings)
shimly.fly()
```

定义类方法时，第一个参数必须是self，无论是否用到。 self指代根据类创建的一个对象。



##### 构造函数

当定义类的方法时，必须要传递一个self的参数。这个参数指代的是类的一个对象。我们可以通过操纵self，给每个对象增添各自独特的属性，即self.attribute。这样，通过类创建对象时，这个对象就成为独特的个体。Python中通过在类中定义init函数来创建每一个独特的对象。

```python
class Human(object):
    def __init__(self, name, sex):
        self.name = name
        self.sex = sex
        
#创建对象时，Python会自动调用init方法，这个过程叫初始化。
libai = Human('李白', '男')	#'李白'和'男'作为参数传递给__init__()方法的name和sex参数
```



#### 类属性和对象属性

类属性定义在类中，所有属于该类的对象会共享这些属性。而对象属性定义在构造函数中，是每个对象特有的属性。因此，类只享有类属性，而对象则享有类属性和对象属性。

```python
class Cat(object):
    hobby = 'sleeping'
    food = 'fish'
    
    def __init__(self, color, name):
        self.color = color
        self.name = name
        
coco = Cat('黑色', '奶茶')
print(coco.name, coco.hobby, coco.food)			#奶茶 sleeping fish
print(Cat.hobby, Cat.food)					   #sleeping fish
print(Cat.name)		#AttributeError: type object 'Cat' has no attribute 'name'
```

对象可以通过对象.属性的方式引用类属性和对象属性，类只能通过类名.属性的方式引用类属性。



#### 对象

Python中一切皆对象。每个对象都有自己唯一的标识（通过id(x)返回）和类型（通过type(x)返回），可以有多个名称和方法。

```python
num = 1024
print(id(num), type(num))       #2147033460432 <class 'int'>
name = 1024
print(id(name), type(name))     #2147033460432 <class 'int'>
"""
每一个整数都是一个int类对象
可以将同一个对象赋值给不同变量，但对象的标识和类型不变
"""

string = 'python'
print(id(string), type(string))     
#2147066869216 <class 'str'>
#每一个字符串都是一个str类对象

arr = [16, 32]
print(id(arr), type(arr))       #2147068310920 <class 'list'>
arr.append(64)
print(arr)      #[16, 32, 64]
arr.pop()
print(arr)      #[16, 32]
"""
每一个列表都是list类对象
每一个列表对象都可以调用list类的方法，比如append和pop
"""

dictionary = {'name': 'losmli'}
print(id(dictionary), type(dictionary))     
#2147066853128 <class 'dict'>
#每一个字典都是一个dict类对象
```



#### 参考资料

[面向对象的基本概念][1]

[Python Objects][2]

[1]: http://www.cnblogs.com/vamei/archive/2012/06/02/2531515.html
[2]: http://effbot.org/zone/python-objects.htm